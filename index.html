<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>ê·¹íš¨ìœ¨ ë ˆì‹œí”¼ - 1ë¶„ ìš”ë¦¬ & ì¥ë³´ê¸°</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        /* ê¸°ë³¸ ì„¤ì • */
        body {
            background-color: #000;
            color: #fff;
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            -webkit-font-smoothing: antialiased;
        }

        /* ìŠ¤í¬ë¡¤ ìŠ¤ëƒ… */
        .snap-y-mandatory {
            scroll-snap-type: y mandatory;
        }
        .snap-center {
            scroll-snap-align: center;
        }
        
        /* ìŠ¤í¬ë¡¤ë°” ìˆ¨ê¸°ê¸° */
        .scrollbar-hide::-webkit-scrollbar { display: none; }
        .scrollbar-hide { -ms-overflow-style: none; scrollbar-width: none; }

        /* ë°”í…€ ì‹œíŠ¸ ì• ë‹ˆë©”ì´ì…˜ */
        .bottom-sheet {
            transition: transform 0.35s cubic-bezier(0.16, 1, 0.3, 1);
            transform: translateY(100%);
            will-change: transform;
        }
        .bottom-sheet.active {
            transform: translateY(0);
        }

        /* ë¹„ë””ì˜¤ ì˜¤ë²„ë ˆì´ ê·¸ë¼ë””ì–¸íŠ¸ (ê°€ë…ì„± í™•ë³´) */
        .video-overlay {
            background: linear-gradient(to top, rgba(0,0,0,0.9) 0%, rgba(0,0,0,0.4) 40%, rgba(0,0,0,0) 100%);
            pointer-events: none; /* ì˜¤ë²„ë ˆì´ê°€ í´ë¦­ì„ ë§‰ì§€ ì•Šë„ë¡ */
        }
        .video-overlay > * {
            pointer-events: auto; /* ë‚´ë¶€ ë²„íŠ¼ì€ í´ë¦­ ê°€ëŠ¥í•˜ê²Œ */
        }

        /* íƒ­ í™œì„±í™” íš¨ê³¼ */
        .nav-item { color: #6b7280; transition: color 0.2s; }
        .nav-item.active { color: #fff; }

        /* Toast ì• ë‹ˆë©”ì´ì…˜ */
        @keyframes slide-up-fade {
            0% { opacity: 0; transform: translate(-50%, 20px); }
            10% { opacity: 1; transform: translate(-50%, 0); }
            90% { opacity: 1; transform: translate(-50%, 0); }
            100% { opacity: 0; transform: translate(-50%, -20px); }
        }
        .toast {
            animation: slide-up-fade 3s forwards;
        }

        /* ë²„íŠ¼ ëˆŒë¦¼ íš¨ê³¼ */
        .btn-press:active {
            transform: scale(0.97);
            opacity: 0.9;
        }

        /* ìœ íŠœë¸Œ iframeìš© ìŠ¤íƒ€ì¼ (í´ë¦­ ë°©ì§€ ë° ê½‰ ì±„ìš°ê¸°) */
        .youtube-background {
            position: absolute;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%; /* ëª¨ë°”ì¼ì—ì„œëŠ” ë†’ì´ ê¸°ì¤€ */
            transform: translate(-50%, -50%) scale(1.35); /* ë ˆí„°ë°•ìŠ¤ ì œê±°ë¥¼ ìœ„í•œ í™•ëŒ€ */
            pointer-events: none; /* ìŠ¤í¬ë¡¤ì„ ìœ„í•´ í„°ì¹˜ ì´ë²¤íŠ¸ ë¬´ì‹œ */
            z-index: 0;
        }
        
        /* ìŠ¤í¬ë¡¤ í„°ì¹˜ ì˜ì—­ í™•ë³´ */
        .scroll-touch-layer {
            position: absolute;
            inset: 0;
            z-index: 1; /* ë¹„ë””ì˜¤ë³´ë‹¤ ìœ„ì— ìœ„ì¹˜í•˜ì—¬ í„°ì¹˜ ìŠ¤í¬ë¡¤ ê°ì§€ */
        }
    </style>
</head>
<body class="h-screen w-full overflow-hidden bg-black">

    <!-- ëª¨ë°”ì¼ ì»¨í…Œì´ë„ˆ -->
    <div id="app-container" class="relative h-full w-full max-w-md mx-auto bg-black flex flex-col shadow-2xl">
        
        <!-- ìƒë‹¨ í—¤ë” (íˆ¬ëª…) -->
        <header class="absolute top-0 left-0 w-full z-20 px-5 py-4 flex justify-between items-center pointer-events-none">
            <div class="text-lg font-bold tracking-tight flex items-center gap-1.5 opacity-90 pointer-events-auto">
                <span class="text-amber-400"><i class="fa-solid fa-bolt"></i></span> 
                <span>ê·¹íš¨ìœ¨ ë ˆì‹œí”¼</span>
            </div>
            <button onclick="app.toggleFilter()" class="bg-black/30 backdrop-blur-md border border-white/10 px-3 py-1.5 rounded-full text-xs font-medium hover:bg-black/50 transition pointer-events-auto">
                <i class="fa-solid fa-filter mr-1 text-amber-400"></i>ëƒ‰ì¥ê³  íŒŒë¨¹ê¸°
            </button>
        </header>

        <!-- ë©”ì¸ ì½˜í…ì¸  (ë¹„ë””ì˜¤ í”¼ë“œ) -->
        <main id="main-content" class="flex-1 overflow-y-scroll snap-y-mandatory scrollbar-hide relative bg-gray-900">
            <!-- ë¹„ë””ì˜¤ í”¼ë“œ JS ë Œë”ë§ -->
        </main>

        <!-- ì¥ë°”êµ¬ë‹ˆ í™”ë©´ (ì „ì²´í™”ë©´ ì˜¤ë²„ë ˆì´) -->
        <div id="cart-view" class="absolute inset-0 bg-zinc-900 z-30 hidden flex flex-col">
            <div class="px-5 py-4 border-b border-white/5 flex justify-between items-center bg-zinc-900">
                <h2 class="text-xl font-bold tracking-tight">ì¥ë°”êµ¬ë‹ˆ <span id="cart-count-badge" class="text-amber-500 ml-1 text-lg">0</span></h2>
                <button onclick="app.clearCart()" class="text-xs text-gray-400 border border-gray-700 px-2 py-1 rounded hover:bg-gray-800 transition">ì „ì²´ ì‚­ì œ</button>
            </div>
            
            <!-- ì¥ë°”êµ¬ë‹ˆ ë¦¬ìŠ¤íŠ¸ -->
            <div id="cart-items" class="flex-1 overflow-y-auto p-5 space-y-3 pb-32">
                <!-- ì•„ì´í…œ ë Œë”ë§ -->
            </div>

            <!-- í•˜ë‹¨ ê²°ì œ/í•©ê³„ ì˜ì—­ -->
            <div class="absolute bottom-16 left-0 w-full p-5 bg-zinc-900 border-t border-white/5">
                <div class="flex justify-between items-baseline mb-4">
                    <span class="text-sm text-gray-400">ì˜ˆìƒ í•©ê³„</span>
                    <span id="total-estimated-price" class="text-2xl font-bold text-white">0ì›</span>
                </div>
                <button onclick="app.buyAll()" class="btn-press w-full bg-amber-400 text-black font-bold text-lg py-4 rounded-2xl shadow-lg shadow-amber-400/10 hover:bg-amber-300 transition">
                    ëª¨ë‘ êµ¬ë§¤í•˜ëŸ¬ ê°€ê¸° <i class="fa-solid fa-arrow-right ml-1"></i>
                </button>
                <p class="text-center text-[10px] text-gray-600 mt-2">ê° ìƒí’ˆì˜ ì¿ íŒ¡ í˜ì´ì§€ê°€ ìƒˆ ì°½ìœ¼ë¡œ ì—´ë¦½ë‹ˆë‹¤.</p>
            </div>
        </div>

        <!-- í•˜ë‹¨ ë„¤ë¹„ê²Œì´ì…˜ -->
        <nav class="h-[60px] bg-black/95 backdrop-blur border-t border-white/5 grid grid-cols-2 z-40 absolute bottom-0 w-full">
            <button onclick="app.switchTab('home')" id="nav-home" class="nav-item active flex flex-col items-center justify-center gap-1">
                <i class="fa-solid fa-house text-xl"></i>
                <span class="text-[10px] font-medium">í™ˆ</span>
            </button>
            <button onclick="app.switchTab('cart')" id="nav-cart" class="nav-item flex flex-col items-center justify-center gap-1 relative">
                <i class="fa-solid fa-basket-shopping text-xl"></i>
                <span class="text-[10px] font-medium">ì¥ë°”êµ¬ë‹ˆ</span>
                <div id="nav-cart-badge" class="absolute top-2 right-[42%] w-1.5 h-1.5 bg-amber-500 rounded-full hidden"></div>
            </button>
        </nav>

        <!-- ì¬ë£Œ ë³´ê¸° ë°”í…€ ì‹œíŠ¸ -->
        <div id="ingredient-sheet" class="bottom-sheet absolute bottom-0 left-0 w-full bg-zinc-900 rounded-t-[32px] z-50 h-[65%] flex flex-col shadow-2xl border-t border-white/5">
            <!-- í•¸ë“¤ë°” -->
            <div class="w-full flex justify-center pt-4 pb-2" onclick="app.closeSheet()">
                <div class="w-10 h-1 bg-gray-700 rounded-full opacity-50"></div>
            </div>
            
            <!-- ì‹œíŠ¸ í—¤ë” -->
            <div class="px-6 pb-4 flex justify-between items-center">
                <div>
                    <p class="text-xs text-amber-400 font-bold mb-0.5" id="sheet-level-text">ë‚œì´ë„ í•˜</p>
                    <h3 id="sheet-title" class="text-2xl font-bold text-white leading-tight">ìš”ë¦¬ ì´ë¦„</h3>
                </div>
                <button onclick="app.addAllIngredients()" class="btn-press bg-white text-black text-xs font-bold px-4 py-2 rounded-full hover:bg-gray-200 transition">
                    ì „ì²´ ë‹´ê¸°
                </button>
            </div>

            <!-- ì¬ë£Œ ë¦¬ìŠ¤íŠ¸ -->
            <div id="sheet-ingredients" class="flex-1 overflow-y-auto px-5 pb-10 space-y-3">
                <!-- JS ë Œë”ë§ -->
            </div>
        </div>

        <!-- ë°°ê²½ ë”¤ (ë°”í…€ ì‹œíŠ¸ìš©) -->
        <div id="backdrop" onclick="app.closeSheet()" class="absolute inset-0 bg-black/80 z-40 hidden transition-opacity duration-300 backdrop-blur-sm"></div>

        <!-- í† ìŠ¤íŠ¸ ë©”ì‹œì§€ -->
        <div id="toast-container" class="absolute top-12 left-1/2 transform -translate-x-1/2 z-[60] w-full px-6 pointer-events-none flex flex-col items-center"></div>

    </div>

    <script>
        // --- 1. ë°ì´í„° (ì†Œê³ ê¸° ì¹´ë ˆ ë‹¨ì¼ ë ˆì‹œí”¼ + ìœ íŠœë¸Œ ë§í¬) ---
        const RECIPES = [
            {
                id: 1,
                title: "ì‹¤íŒ¨ ì—†ëŠ” ì†Œê³ ê¸° ì¹´ë ˆ",
                description: "ì¬ë£Œ 4ê°œë¡œ ëë‚´ëŠ” ê¹Šì€ ë§›. ë°¥ ë‘ ê³µê¸° ìˆœì‚­ ë³´ì¥í•©ë‹ˆë‹¤.",
                // ìœ íŠœë¸Œ ì‡¼ì¸  ID ì¶”ì¶œ (cN06rKfU3HY)
                // autoplay=1: ìë™ì¬ìƒ, mute=1: ìŒì†Œê±°(ìë™ì¬ìƒ í•„ìˆ˜ì¡°ê±´), loop=1: ë°˜ë³µ, playlist: ë°˜ë³µì„ ìœ„í•œ ID ì¬ì…ë ¥
                // controls=0: ì»¨íŠ¸ë¡¤ ìˆ¨ê¹€, playsinline=1: ì¸ë¼ì¸ ì¬ìƒ
                youtubeEmbedUrl: "https://www.youtube.com/embed/cN06rKfU3HY?autoplay=1&mute=1&controls=0&loop=1&playlist=cN06rKfU3HY&playsinline=1&rel=0&modestbranding=1", 
                level: "ë‚œì´ë„ í•˜ (ë¼ë©´ê¸‰)",
                ingredients: [
                    { name: "ì–‘íŒŒ", unit: "í•„ìˆ˜", price: 3500, link: "https://link.coupang.com/a/c5CXMg" },
                    { name: "ë‹¹ê·¼", unit: "2ê°œ", price: 2800, link: "https://link.coupang.com/a/c5CYAb" },
                    { name: "ì†Œê³ ê¸°", unit: "1íŒ©", price: 12900, link: "https://link.coupang.com/a/c5CZbA" },
                    { name: "ê³ í˜•ì¹´ë ˆ", unit: "1ê°œ", price: 4500, link: "https://link.coupang.com/a/c5CZJz" }
                ]
            }
        ];

        // --- 2. ì•± ë¡œì§ ---
        class RecipeApp {
            constructor() {
                this.cart = JSON.parse(localStorage.getItem('recipeCart')) || [];
                this.currentRecipeId = null;
                this.init();
            }

            init() {
                this.renderFeed();
                this.updateCartUI();
                // ìœ íŠœë¸Œ iframe ì‚¬ìš© ì‹œ IntersectionObserver ìë™ ì¬ìƒ ë¡œì§ì€ iframe ë‚´ë¶€ ì œì–´ê°€ ì–´ë ¤ìš°ë¯€ë¡œ 
                // 'autoplay=1' íŒŒë¼ë¯¸í„°ì— ì˜ì¡´í•©ë‹ˆë‹¤.
            }

            // í”¼ë“œ ë Œë”ë§ (Iframe ì ìš©)
            renderFeed() {
                const container = document.getElementById('main-content');
                container.innerHTML = RECIPES.map(recipe => `
                    <div class="w-full h-full snap-center relative bg-black flex items-center justify-center overflow-hidden" data-id="${recipe.id}">
                        
                        <!-- ìœ íŠœë¸Œ Iframe (ë°°ê²½) -->
                        <iframe 
                            src="${recipe.youtubeEmbedUrl}" 
                            title="${recipe.title}"
                            frameborder="0" 
                            allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" 
                            allowfullscreen
                            class="youtube-background">
                        </iframe>

                        <!-- í„°ì¹˜ ìŠ¤í¬ë¡¤ ë ˆì´ì–´ (iframe ìœ„ë¥¼ ë®ì–´ì„œ ìŠ¤í¬ë¡¤ ê°€ëŠ¥í•˜ê²Œ í•¨) -->
                        <div class="scroll-touch-layer"></div>
                        
                        <!-- í•˜ë‹¨ ì •ë³´ ì˜¤ë²„ë ˆì´ (z-index ë†’ìŒ) -->
                        <div class="absolute inset-0 video-overlay flex flex-col justify-end px-5 pb-[90px] z-10">
                            <div class="pointer-events-auto transition-transform duration-300 hover:scale-[1.01]">
                                <div class="flex items-center gap-2 mb-2">
                                    <span class="bg-amber-400 text-black text-[10px] font-bold px-2 py-0.5 rounded-sm uppercase tracking-wider">Recipe</span>
                                    <span class="text-xs text-amber-300 font-medium drop-shadow-md">${recipe.level}</span>
                                </div>
                                <h2 class="text-3xl font-bold text-white leading-tight mb-2 drop-shadow-lg tracking-tight">${recipe.title}</h2>
                                <p class="text-gray-200 text-sm mb-5 line-clamp-2 drop-shadow-md font-light opacity-90">${recipe.description}</p>
                                
                                <button onclick="app.openSheet(${recipe.id})" class="btn-press w-full bg-white text-black font-bold py-3.5 rounded-2xl flex items-center justify-center gap-2 shadow-lg">
                                    <span class="text-sm">ì¬ë£Œ ë³´ê³  ë‹´ê¸°</span>
                                    <i class="fa-solid fa-chevron-up text-xs mt-0.5"></i>
                                </button>
                            </div>
                        </div>

                        <!-- ìš°ì¸¡ ì•¡ì…˜ ë²„íŠ¼ (z-index ë†’ìŒ) -->
                        <div class="absolute right-4 bottom-[100px] flex flex-col gap-5 pointer-events-auto items-center z-10">
                            <button onclick="app.toggleLike(this)" class="group flex flex-col items-center gap-1">
                                <div class="w-11 h-11 bg-black/40 backdrop-blur-md rounded-full flex items-center justify-center border border-white/10 transition group-active:scale-90">
                                    <i class="fa-solid fa-heart text-white text-xl transition group-hover:text-red-500"></i>
                                </div>
                                <span class="text-[10px] font-medium drop-shadow">ì°œ</span>
                            </button>
                            <button onclick="window.open('https://www.youtube.com/shorts/cN06rKfU3HY', '_blank')" class="group flex flex-col items-center gap-1">
                                <div class="w-11 h-11 bg-black/40 backdrop-blur-md rounded-full flex items-center justify-center border border-white/10 transition group-active:scale-90">
                                    <i class="fa-brands fa-youtube text-white text-xl"></i>
                                </div>
                                <span class="text-[10px] font-medium drop-shadow">ì›ë³¸</span>
                            </button>
                        </div>
                    </div>
                `).join('');
            }

            // ë°”í…€ ì‹œíŠ¸
            openSheet(recipeId) {
                const recipe = RECIPES.find(r => r.id === recipeId);
                if (!recipe) return;

                this.currentRecipeId = recipeId;
                document.getElementById('sheet-title').innerText = recipe.title;
                document.getElementById('sheet-level-text').innerText = recipe.level;
                
                const list = document.getElementById('sheet-ingredients');
                list.innerHTML = recipe.ingredients.map((ing) => {
                    const isInCart = this.cart.some(item => item.link === ing.link); 
                    return `
                    <div class="flex items-center justify-between bg-black/20 p-3 rounded-2xl border border-white/5">
                        <div class="flex items-center gap-3.5">
                            <div class="w-11 h-11 bg-white/5 rounded-xl flex items-center justify-center text-xl border border-white/5">
                                ğŸ½ï¸
                            </div>
                            <div>
                                <p class="font-bold text-white text-sm">${ing.name}</p>
                                <p class="text-[10px] text-gray-400 mt-0.5">${ing.unit} <span class="mx-1">Â·</span> ì•½ ${ing.price.toLocaleString()}ì›</p>
                            </div>
                        </div>
                        <button onclick="app.toggleIngredient('${ing.name}', ${ing.price}, '${ing.link}', this)" 
                            class="btn-press w-9 h-9 rounded-full flex items-center justify-center transition-all ${isInCart ? 'bg-amber-400 text-black' : 'bg-white/10 text-white hover:bg-white/20'}">
                            <i class="fa-solid ${isInCart ? 'fa-check' : 'fa-plus'} text-sm"></i>
                        </button>
                    </div>
                `}).join('');

                document.getElementById('ingredient-sheet').classList.add('active');
                document.getElementById('backdrop').classList.remove('hidden');
            }

            closeSheet() {
                document.getElementById('ingredient-sheet').classList.remove('active');
                document.getElementById('backdrop').classList.add('hidden');
            }

            toggleIngredient(name, price, link, btn) {
                const idx = this.cart.findIndex(item => item.link === link);
                
                if (idx > -1) {
                    this.cart.splice(idx, 1);
                    btn.className = "btn-press w-9 h-9 rounded-full flex items-center justify-center transition-all bg-white/10 text-white hover:bg-white/20";
                    btn.innerHTML = '<i class="fa-solid fa-plus text-sm"></i>';
                    this.showToast(`${name} ëºìŠµë‹ˆë‹¤`);
                } else {
                    this.cart.push({ name, price, link });
                    btn.className = "btn-press w-9 h-9 rounded-full flex items-center justify-center transition-all bg-amber-400 text-black";
                    btn.innerHTML = '<i class="fa-solid fa-check text-sm"></i>';
                    this.showToast(`${name} ë‹´ì•˜ìŠµë‹ˆë‹¤`);
                }
                this.saveCart();
            }

            addAllIngredients() {
                const recipe = RECIPES.find(r => r.id === this.currentRecipeId);
                if (!recipe) return;
                
                let count = 0;
                recipe.ingredients.forEach(ing => {
                    if (!this.cart.some(item => item.link === ing.link)) {
                        this.cart.push({ name: ing.name, price: ing.price, link: ing.link });
                        count++;
                    }
                });
                this.saveCart();
                this.closeSheet();
                if(count > 0) this.showToast(`${count}ê°œ ì¬ë£Œë¥¼ ëª¨ë‘ ë‹´ì•˜ìŠµë‹ˆë‹¤!`);
                else this.showToast("ì´ë¯¸ ëª¨ë“  ì¬ë£Œê°€ ë‹´ê²¨ìˆìŠµë‹ˆë‹¤.");
            }

            saveCart() {
                localStorage.setItem('recipeCart', JSON.stringify(this.cart));
                this.updateCartUI();
            }

            updateCartUI() {
                const badge = document.getElementById('cart-count-badge');
                const navBadge = document.getElementById('nav-cart-badge');
                const list = document.getElementById('cart-items');
                const totalEl = document.getElementById('total-estimated-price');

                badge.innerText = this.cart.length;
                if (this.cart.length > 0) navBadge.classList.remove('hidden');
                else navBadge.classList.add('hidden');

                if (this.cart.length === 0) {
                    list.innerHTML = `
                        <div class="flex flex-col items-center justify-center h-64 opacity-30">
                            <i class="fa-solid fa-basket-shopping text-5xl mb-4"></i>
                            <p class="text-sm">ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì—ˆìŠµë‹ˆë‹¤</p>
                        </div>`;
                    totalEl.innerText = "0ì›";
                } else {
                    let total = 0;
                    list.innerHTML = this.cart.map((item, idx) => {
                        total += item.price;
                        return `
                        <div class="flex items-center justify-between bg-black/40 p-4 rounded-2xl border border-white/5">
                            <div class="flex items-center gap-3">
                                <div class="w-10 h-10 bg-white/5 rounded-lg flex items-center justify-center text-lg">
                                    ğŸ“¦
                                </div>
                                <div class="flex flex-col">
                                    <span class="font-bold text-sm text-white">${item.name}</span>
                                    <button onclick="window.open('${item.link}', '_blank')" class="text-[10px] text-amber-400 text-left mt-1 hover:underline flex items-center">
                                        êµ¬ë§¤ ë§í¬ ì—´ê¸° <i class="fa-solid fa-arrow-up-right-from-square ml-1 text-[8px]"></i>
                                    </button>
                                </div>
                            </div>
                            <button onclick="app.removeFromCart(${idx})" class="text-gray-500 hover:text-red-400 p-2 transition">
                                <i class="fa-solid fa-xmark"></i>
                            </button>
                        </div>
                    `}).join('');
                    totalEl.innerText = `${total.toLocaleString()}ì›`;
                }
            }

            removeFromCart(idx) {
                this.cart.splice(idx, 1);
                this.saveCart();
            }

            clearCart() {
                if (confirm("ì¥ë°”êµ¬ë‹ˆë¥¼ ë¹„ìš°ì‹œê² ìŠµë‹ˆê¹Œ?")) {
                    this.cart = [];
                    this.saveCart();
                }
            }

            switchTab(tab) {
                const home = document.getElementById('main-content');
                const cart = document.getElementById('cart-view');
                const navH = document.getElementById('nav-home');
                const navC = document.getElementById('nav-cart');

                if (tab === 'home') {
                    home.classList.remove('hidden');
                    cart.classList.add('hidden');
                    navH.classList.add('active');
                    navC.classList.remove('active');
                } else {
                    home.classList.add('hidden');
                    cart.classList.remove('hidden');
                    navH.classList.remove('active');
                    navC.classList.add('active');
                    this.updateCartUI();
                }
            }

            buyAll() {
                if (this.cart.length === 0) {
                    this.showToast("ë‹´ê¸´ ìƒí’ˆì´ ì—†ìŠµë‹ˆë‹¤.");
                    return;
                }
                
                const confirmMsg = `ì´ ${this.cart.length}ê°œì˜ ìƒí’ˆ êµ¬ë§¤ í˜ì´ì§€ë¥¼ ì—½ë‹ˆë‹¤.\n(íŒì—… ì°¨ë‹¨ì´ ë˜ì–´ìˆìœ¼ë©´ í•˜ë‚˜ë§Œ ì—´ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.)`;
                if(confirm(confirmMsg)) {
                    this.cart.forEach(item => {
                        window.open(item.link, '_blank');
                    });
                    this.showToast("êµ¬ë§¤ í˜ì´ì§€ë“¤ì„ ì—´ì—ˆìŠµë‹ˆë‹¤.");
                }
            }

            showToast(msg) {
                const container = document.getElementById('toast-container');
                const el = document.createElement('div');
                el.className = 'toast bg-zinc-800/90 backdrop-blur border border-white/10 text-white text-xs font-medium px-4 py-3 rounded-full shadow-2xl mb-2 flex items-center gap-2';
                el.innerHTML = `<i class="fa-solid fa-check text-amber-400"></i> ${msg}`;
                container.appendChild(el);
                setTimeout(() => el.remove(), 3000);
            }

            toggleLike(btn) {
                const i = btn.querySelector('i');
                if (i.classList.contains('text-white')) {
                    i.classList.remove('text-white');
                    i.classList.add('text-red-500');
                    this.showToast("ì°œ ëª©ë¡ì— ì¶”ê°€ë¨");
                } else {
                    i.classList.add('text-white');
                    i.classList.remove('text-red-500');
                }
            }
            
            toggleFilter() {
                this.showToast("í•„í„° ê¸°ëŠ¥ì€ ì¤€ë¹„ ì¤‘ì…ë‹ˆë‹¤.");
            }
        }

        const app = new RecipeApp();
        window.app = app;
    </script>
</body>
</html>
